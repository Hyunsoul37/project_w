(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{8826:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/community",function(){return t(3986)}])},3986:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return N}});var i=t(5893),r=t(7294),s=t(9473),o=t(1799),u=t(828),a=t(8658),m=t.n(a),d=t(9684),l=t.n(d),c=t(9481),C=t(1664),_=t.n(C),h=function(n){var e=(0,u.Z)((0,r.useState)(n.reviewLike),2),t=e[0],s=e[1],o=(0,u.Z)((0,r.useState)(),2),a=o[0],m=o[1];return((0,r.useEffect)(function(){m(n)},[n]),null===a)?(0,i.jsx)(i.Fragment,{}):(0,i.jsxs)("div",{className:l().CommunityCard,children:[(0,i.jsxs)("div",{className:l().CommunityCard_Header,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{children:null==a?void 0:a.writerNickName}),(0,i.jsx)("span",{children:"님의 포스팅"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(c.Z,{userLike:!1,onClick:function(n){n?s(t+1):s(t-1)}}),(0,i.jsx)("span",{children:null==a?void 0:a.reviewLike})]})]}),(0,i.jsx)("div",{className:l().CommunityCard_Image,children:(0,i.jsx)(_(),{href:{pathname:"/community/detail/".concat(n.reviewId),query:{id:n.reviewId}},children:(0,i.jsx)("img",{src:null==a?void 0:a.reviewImgs[0]})})}),(0,i.jsx)("div",{className:l().CommunityCard_Contents,children:(0,i.jsxs)(_(),{href:{pathname:"/community/detail/".concat(null==a?void 0:a.reviewId),query:{id:null==a?void 0:a.reviewId}},children:[(0,i.jsx)("h4",{className:l().CommunityCard_Contents_title,children:null==a?void 0:a.reviewTitle}),(0,i.jsx)("p",{className:l().CommunityCard_Contents_text,children:null==a?void 0:a.desc})]})}),(0,i.jsx)("div",{className:l().CommunityCard_hashTag,children:null==a?void 0:a.hashTag.map(function(n){return(0,i.jsxs)("span",{children:["#",n]})})})]})},y=t(1936),v=t(7657),x=t(5628),f=t(1163),p=function(){var n=(0,s.v9)(function(n){return n}),e=n.review,t=n.user,a=(0,s.I0)(),d=(0,r.useRef)(null),l=(0,r.useRef)(0),c=(0,r.useRef)(null),C=(0,u.Z)((0,r.useState)(!1),2),_=C[0],p=C[1],j=(0,f.useRouter)(),N=function(){l.current>=0&&a((0,v.j9)(l.current))},g={root:null,threshold:1},w=function(n){var t=n[0];!e.isloadding&&l.current<e.TotalpageNum&&t.isIntersecting&&(l.current++,N())};return(0,r.useEffect)(function(){var n,e=new IntersectionObserver(w,g),t=d.current;return t&&e.observe(t),function(){e.disconnect(),clearTimeout(n)}},[e.isloadding,e.TotalpageNum]),(0,i.jsxs)("div",{className:"maxframe",children:[(0,i.jsxs)("div",{className:m().Community,children:[(0,i.jsx)("h1",{children:"COMMUNITY"}),(0,i.jsx)("h3",{children:"와구 회원들과의 즐거운 와인 이야기"}),(0,i.jsx)("div",{className:m().btnWrapper,children:(0,i.jsx)(y.Z,{buttontext:"새글작성",buttonColor:"second",buttonSize:"m",onClick:function(){if(!0===t.isLoggedIn)j.push({pathname:"/community/post",query:{edit:!1,reviewId:-1}});else{var n;null===(n=c.current)||void 0===n||n.showModal(),p(!0)}}})}),(0,i.jsx)("div",{className:m().Community_CardWrapper,children:e.post.map(function(n,e){return(0,i.jsx)(h,(0,o.Z)({},n),"reviewCard_".concat(e))})}),e.isloadding?(0,i.jsx)(x.Z,{height:300}):null,(0,i.jsx)("div",{ref:d,className:m().Community_SrollChecker})]}),(0,i.jsxs)("dialog",{style:_?{display:"flex"}:{display:"none"},className:m().modal,ref:c,children:[(0,i.jsx)("p",{children:"로그인이 필요한 기능입니다."}),(0,i.jsx)("button",{onClick:function(){var n;null===(n=c.current)||void 0===n||n.close(),p(!1),j.push({pathname:"/login",query:{returnUrl:j.asPath}},"/login")},children:"확인"})]})]})};t(6827);var j=t(8606),N=function(){var n=(0,s.I0)();return(0,r.useEffect)(function(){n((0,v.eR)())},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(j.Z,{title:"Community"}),(0,i.jsx)(p,{})]})}},8658:function(n){n.exports={Community:"Community_Community__a4N03",Community_CardWrapper:"Community_Community_CardWrapper__ZC1EB",Community_SrollChecker:"Community_Community_SrollChecker__2kEtj",btnWrapper:"Community_btnWrapper__1HalE",modal:"Community_modal__hvOPB"}},9684:function(n){n.exports={CommunityCard:"CommunityCard_CommunityCard__dHsvs",CommunityCard_Header:"CommunityCard_CommunityCard_Header__uz_3a",CommunityCard_Image:"CommunityCard_CommunityCard_Image__1yFRM",CommunityCard_Contents:"CommunityCard_CommunityCard_Contents__cj_Vx",CommunityCard_Contents_title:"CommunityCard_CommunityCard_Contents_title__pbFxU",CommunityCard_Contents_text:"CommunityCard_CommunityCard_Contents_text__Fe8dQ",CommunityCard_hashTag:"CommunityCard_CommunityCard_hashTag__NBQ1i"}},9008:function(n,e,t){n.exports=t(3121)},6827:function(n){"use strict";n.exports=[]}},function(n){n.O(0,[296,281,664,10,774,888,179],function(){return n(n.s=8826)}),_N_E=n.O()}]);